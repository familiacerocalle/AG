<!--
  Generated template for the ComplaintFileEditPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>Complaint File</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>

    <ion-item>
        <ion-label floating>Description</ion-label>
        <ion-input [(ngModel)]="complaintFile.descripcion"></ion-input>
    </ion-item>


    <br>
    <br>
    <div *ngIf="complaintFile.id!=null">
        <h4>Attachments</h4>
        <ion-card *ngIf="complaintFile.archivo!=null && complaintFile.archivo.url!=null">
            <img src="{{complaintFile.archivo.url}}"
                 *ngIf=" ['jpg','png', 'jpeg'].indexOf(complaintFile.archivo.url.split('.')[complaintFile.archivo.url.split('.').length-1]) >= 0">
            <video *ngIf=" ['mp4','mp3', 'avi'].indexOf(complaintFile.archivo.url.split('.')[complaintFile.archivo.url.split('.').length-1]) >= 0"
                   controls="controls" preload="metadata" webkit-playsinline="webkit-playsinline" class="videoPlayer">
                <source src="{{complaintFile.archivo.url}}" type="video/mp4"/>
            </video>
        </ion-card>
        <button class="float-right" ion-button (click)="addAttachment()">Add Attachment</button>
        <input #input_file_id type="file"
               (change)="onChangeAttachment($event)" style="display: none"/>
    </div>

    <button ion-button [block]="true" (click)="saveEditComplaintFile()">Save</button>

    <button ion-button *ngIf="complaintFile.id!=null" color="danger" [block]="true" (click)="deleteComplaint()">Delete
        complaint file
    </button>

</ion-content>
