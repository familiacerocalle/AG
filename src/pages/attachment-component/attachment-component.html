<!--
  Generated template for the AttachmentComponentPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-card>
    <input #input_file_id type="file"
           (change)="onChangeAttachment($event)" multiple style="display: none"/>

    <button *ngIf="editAllowed==true" class="float-right" ion-button (click)="addAttachment()">Add attachment</button>

    <div *ngIf="attachmentList!=null && shUtils.getCount(attachmentList)==1"
         (click)="openAttachment(attachmentList[0])">
        <img src="{{attachmentList[0].file.url}}" *ngIf="attachmentList[0] && attachmentList[0].file && attachmentList[0].file.url && ['png', 'jpeg'].indexOf(attachmentList[0].file.url.split('.')[1])">
        <video *ngIf="attachmentList[0] && attachmentList[0].file && attachmentList[0].file.url && 'mp4' == attachmentList[0].file.url.split('.')[1]" controls="controls" preload="metadata" webkit-playsinline="webkit-playsinline" class="videoPlayer">
          <source src="{{attachmentList[0].file.url}}" type="video/mp4" />
        </video>
    </div>
</ion-card>
